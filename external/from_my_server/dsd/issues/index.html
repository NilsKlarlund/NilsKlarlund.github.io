<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Issues</title>
<style type="text/css">

BODY { 
  link: black; 
  vlink: black; 
  background: white; 
  margin-left: 2%;
  margin-right: 2%;
}


p, ul, body { 
  font-family: sans-serif; 
  font-size:10pt;
}

H1 { 
  margin-top: 0%;
  margin-bottom: 10px;
  color: #900;
  clear: both;
  font-family: sans-serif; 
}

H1, H2, H3, .section {  font-family: sans-serif; 
  color: #900;
}


HR { 
  size: 1pt;
}

TABLE,TD,TR { 
  font-family: sans-serif; 
  font-size: 10pt;
}

SPAN.FOOTER { 
  font-family: sans-serif; 
  font-style: italic; 
  font-size: 10pt; 
  text-align: center; 
}

A:link { 
  color: #c00 
}
A:visited { 
  color: #800;
}
A:active { 
  color: #f00; 
}
.hide { 
  display: none; 
  color: white;
}
DIV.map {
  padding-top: 70px;
  margin-left: 0%;
  margin-right: 0%;
  margin-bottom: 0;
  margin-top: 0;
}
 
#p1 {
  color: #DDD; 
  font: 85px/1 "Impact", sans-serif;
  text-align: left;  
  margin: -70px 0 30px 5%;
}     
#p2 {
  color: #008; 
  font: bold 35px/1 "Verdana", sans-serif;
  text-align: left;   
  margin: -50px 0 30px 12%;
} 
#p3 { 
  margin-top: 0%;
  margin-bottom: 10px;
  margin-left: -1%;
  color: #900;
  clear: both;
  font-size: 20pt;
}
#p5 { 
  margin-left: 3%;
}

TT { 
  font-family: monospace; 
  font-weight: bold;
}

	  
	  .e  {margin-left:1em; text-indent:-1em; margin-right:1em}
	  
	  .k  {color:green; margin-left:1em;}
	  
	  .t  {font-size:9pt; font:Courier; color:#990000}
	  
	  .xt {color:#990099}
	  
	  .ns {color:red}
	  
	  .dt {color:green;}
	  
	  .m  {color:blue}
	  
	  .tx {font-weight:bold}
	  
	  .db {text-indent:0px; margin-left:1em; margin-top:0px; margin-bottom:0px;
	  padding-left:.3em; border-left:1px solid #CCCCCC; font:small Courier}
	  
	  .di {font:small Courier}
	  
	  .d  {color:blue}
	  
	  .pi {color:blue}
	  
	  .cb {text-indent:0px; margin-left:1em; margin-top:0px; margin-bottom:0px;
	  padding-left:.3em; font:small Courier; color:#888888}
	  
	  pre {margin-left:0ex; display:inline}  
	  .key {font-weight:bold; color: purple}
	  
	  .e  {margin-left:1em; text-indent:-1em;}
	  .enoindent  {margin-left:1em;}
	  .noindent  {margin-left:0em; text-indent: 0em;}
	  .h {font-weight:bold; color: red}
	  .user {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;}
	  .user:link {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;}
	  .user:visited {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;color: purple;}
	  .tt {font-family:Prestige, MS Courier New, Courier; color:blue; font-weight:bold; }
	  .cd {font: Courier; color:#888888; font-weight:bold;}




div.dsdpretty {margin-bottom:0em; margin-top:0em; margin-left:0em; font-size: 9pt;}

	  div.dsdpretty div {margin-bottom:0em; margin-top:0em; margin-left:1em;
	       font-weight:bold; font-family:  Courier; }

	  .example   {margin-bottom:1em; margin-top:1em; margin-left:2em; margin-right:2em; font-size:9pt; background-color:beige;  padding-left:1em;}



	  div.dsdpretty span {color: black;}
	  div.dsdpretty div.rootchild {margin-bottom:2ex; margin-top:1ex; 
              border-style: solid; border-width: 2px;  border-color:pink; }
	  div.dsdpretty .key, div.dsdpretty .special-key {font-weight:bold; color: purple;}
	  div.dsdpretty .doc {font-family: Arial, Helvetica, Sans-serif; font-style:normal; font-weight: normal; color: grey;}
	  div.dsdpretty .user {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;}
	  div.dsdpretty .user-bold {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black; font-weight:bold;}
	  div.dsdpretty .user:link {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;}
	  div.dsdpretty .user:visited {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  font-weight:normal; color: black;}
	  div.dsdpretty .concrete, .string {font-family: Courier; color: blue; font-weight:bold; }
	  div.dsdpretty .tt {font-family: Courier; color: blue; font-weight:bold; }
	  div.dsdpretty .comment {font-family: Arial, Helvetica, Sans-serif; font-style:normal;
	  div.dsdpretty font-weight:normal; color: brown;}
	  div.dsdpretty *.header {font-size:14pt;  color: purple; font-family: Arial, Helvetica, Sans-serif;}
	  
	</style></head>
<body>
<h1>Issues</h1>
<h2></h2>
<p style="font-size:120%;"></p><h3>Index</h3>
<ul>
<li><a href="#Organizational">Organizational</a></li>
<li><a href="#DSD language">DSD language</a></li>
<li><a href="#DSD processor">DSD processor</a></li></ul>
<p>
    This is a list of issues that we would like address in the future.
    Some are constructive wishes, others are just criticisms.

    (The DSD home page is 
    <a href="http://www.brics.dk/DSD/">http://www.brics.dk/DSD/</a>.)

    <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h2><a name="Organizational"><span style="font-weight:bold;">Organizational</span></a></h2></div><p><p>
<span style="font-weight:bold;" class="section">Work within the W3C</span> 

    We would like to see our work folded into the W3C; currently, we
    are in a holding pattern.  We hope to contribute later.

    <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h2><a name="DSD language"><span style="font-weight:bold;">DSD language</span></a></h2></div><p>
<div style=" font-family: Arial, helvetica,      sans-serif; ">
<h3>
<span style=" font-family: Arial, helvetica,      sans-serif; ">General</span></h3></div><p><p>
<span style="font-weight:bold;" class="section">Backtracking, breadth-first, incremental
      rendering</span>
  
    The current element default insertion mechanism involves
    backtracking; without some analysis, a DSD processor cannot output
    the children of an element before all of them have been analyzed.
    This is not quite as bad as it sounds when it comes to incremental
    rendering, since the DSD processor essentially works in a
    breadth-first manner.  But it might be a problem for say a root
    element that contains 2000 children.  The issue is: should the
    parsing of elements be arranged so that a DFS DSD processor can be
    guaranteed to work in an algorithmic online fashion.  XSLT aims at
    doing that (but without guarantees as well).


    <p><span style="font-weight:bold;" class="section">Idempotency of default insertion</span> Is it a
    goal that default insertion should be idempotent?  DSDs 
    defaults currently are not.
    
    <p><span style="font-weight:bold;" class="section">Element insertion to complicated?</span> The two
    previous issues could be addressed by making the motion of content
    defaults less ambitious.  However, we have found it difficult to
    prune the element insertion notion without losing the ability to
    cope with a lot of common cases (such as defaults for elements in
    sequences).

    <p><span style="font-weight:bold;" class="section">DSD fragments in application documents</span>
    Apart from default definitions, we currently do not support
    anything similar to the document type definitions that are allowed
    in DTDs.

    <p><span style="font-weight:bold;" class="section">Restricted DSD defaults in application documents
    </span>
    Currently, document processing time is quadratic in the total size
    of the DSD defaults and the rest of the document.  Should there be
    a restricted set of defaults that would guarantee a total linear
    time?

    <p><span style="font-weight:bold;" class="section">Name spaces</span>
    To be done.  The current XML Schema proposal has some interesting ideas.
    
    <p><span style="font-weight:bold;" class="section">ID spaces</span> When composing DSDs using the
    include mechanism, one runs the risk of ID collisions.  It looks
    like there is an obvious mechanism analogous to the namespace
    mechanism for qualifying IDs with namespace abbreviations.  This
    solution would be substantially simpler than current XML Schema
    considerations.

    <p><span style="font-weight:bold;" class="section">A copy calculus with substitutions</span> 

    There are some practical grammar situations that defeat the
    current mechanism.  Assume that a fundamental concept in an XML
    language is the <tt>inline</tt> content:
    <div style="padding:.5ex;" class="example">
<div class="">
<div style="font-size: 9pt;">
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;ContentDef<SPAN> ID="<SPAN>inline</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Union&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Element<SPAN> Name="<SPAN>emph</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;Content<SPAN> IDRef="<SPAN>inline</SPAN>"</SPAN>/&gt;
          </DIV>
<div style="">
<SPAN class="tt">&lt;/Element&gt;</SPAN></div></DIV>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;StringType/&gt;
          </DIV>
<div style="">
<SPAN class="tt">&lt;/Union&gt;</SPAN></div></DIV>
<div style="">
<SPAN class="tt">&lt;/ContentDef&gt;</SPAN></div></DIV></div></div></div><p>
    Now we define a variation called <tt>inline-with-dtmf</tt>.  It's
    purpose is to allow an element called <tt>dtmf</tt> whereever
    <tt>inline</tt> may occur:
    <div style="padding:.5ex;" class="example">
<div class="">
<div style="font-size: 9pt;">
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;ContentDef<SPAN> ID="<SPAN>inline-with-dtmf</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Union&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;Element<SPAN> Name="<SPAN>dtmf</SPAN>"</SPAN>/&gt;
          </DIV>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;Content<SPAN> IDRef="<SPAN>inline</SPAN>"</SPAN>/&gt;
          </DIV>
<div style="">
<SPAN class="tt">&lt;/Union&gt;</SPAN></div></DIV>
<div style="">
<SPAN class="tt">&lt;/ContentDef&gt;</SPAN></div></DIV></div></div></div><p>
    Unfortunately, this definition is not quite right: an
    <tt>emph</tt> element inside <tt>inline-with-dtmf</tt> content may
    not itself contain <tt>dtmf</tt> elements!  Instead, what we need
    is a copy of the <tt>inline</tt> definition when it is used inside
    the definition of <tt>inline-with-dtmf</tt>; in this copy,
    however, IDRefs to <tt>inline</tt> should be replaced by
    IDRefs to <tt>inline-with-dtmf</tt>.  A possible construct would be:
    <div style="padding:.5ex;" class="example">
<div class="">
<div style="font-size: 9pt;">
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;ContentDef<SPAN> ID="<SPAN>inline-with-dtmf</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Union&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;Element<SPAN> Name="<SPAN>dtmf</SPAN>"</SPAN>/&gt;
          </DIV>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Copy<SPAN> IDRef="<SPAN>inline</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
<div style="margin-left:2em;  margin-bottom:.8ex; text-indent:-2em;">
<SPAN class="tt">&lt;Content<SPAN> LetId="<SPAN>inline</SPAN>"</SPAN>&gt;</SPAN></div>
<DIV STYLE="margin-left:1em;  margin-bottom:.8ex" class="tt">
            &lt;Content<SPAN> IDRef="<SPAN>inline-with-dtmf</SPAN>"</SPAN>/&gt;
          </DIV>
<div style="">
<SPAN class="tt">&lt;/Content&gt;</SPAN></div></DIV>
<div style="">
<SPAN class="tt">&lt;/Copy&gt;</SPAN></div></DIV>
<div style="">
<SPAN class="tt">&lt;/Union&gt;</SPAN></div></DIV>
<div style="">
<SPAN class="tt">&lt;/ContentDef&gt;</SPAN></div></DIV></div></div></div><p>
    Admittedly, this is getting complicated!  Alternatives may be based
    on let-calculi found in functional programming languages.

    <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h3>
<span style=" font-family: Arial, helvetica,      sans-serif; ">Content</span></h3></div><p><p>
<span style="font-weight:bold;" class="section">Content declarations</span>Consider treating
    content expressions in a constraint in a way that more explicitly
    points to their declarative nature.  For example, introduce a
    <tt>ContentDecl</tt> wrapper reminiscent of what DSDs do for
    attributes.
  
  
    <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h3>
<span style=" font-family: Arial, helvetica,      sans-serif; ">Context</span></h3></div><p><p>
<span style="font-weight:bold;" class="section">CSS conformance</span>
    Consider an even closer relationship to CSS.

    <p><span style="font-weight:bold;" class="section">CSS syntax</span> Design a readable, concrete
    syntax that extends CSS for our contexts.  It would be very
    similar to the one produced by our <tt>dsd2html</tt> XSLT
    stylesheet.

    <p><span style="font-weight:bold;" class="section">XSLT patterns</span> As an alternative, provide
    XPath syntax for contexts.  Xpath is considerably more expressive
    than CSS.  But it is a problem if contexts may probe descendants
    (as in XPath): the set of descendants is only determined after
    inserting defaults, so that looks like an inconsistent semantics.

    <p><span style="font-weight:bold;" class="section">Test on constraint IDs</span> Currently, contexts
    made depend on the assigned Element IDs only.  Consider tests on
    constraint and other IDs.

     <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h3>
<span style=" font-family: Arial, helvetica,      sans-serif; ">Redefinitions</span></h3></div><p><p>
<span style="font-weight:bold;" class="section">Monotone redefinitions</span> Consider restricted
    ways of doing redefinitions so that it may be insured that a
    redefined DSD expresses a superset of the original class of
    documents.

    <p><span style="font-weight:bold;" class="section">Assertions</span> Consider abbreviations that
    stand for assertions proposed in
    <a href="#http://www.w3.org/People/Raggett/dtdgen/Docs/"></a>.  For
    example, an operator <tt>AddToConstraint</tt> may take three
    arguments: an old constraint, a new constraint, and a Boolean
    expression.  Its meaning is to extend the old constraint with the
    new constraint, conditioned by the Boolean expression,



    <div style=" font-family: Arial, helvetica,      sans-serif; ">
<h2><a name="DSD processor"><span style="font-weight:bold;">DSD processor</span></a></h2></div><p><p>
<span style="font-weight:bold;" class="section">Optimize</span> We're confident that the DSD
    processor could be sped up quite significantly.

   <p><span style="font-weight:bold;" class="section">Mona</span>
    Use the <a href="#Mona automaton package"></a>
    to speed the processing of regular expressions.

    <img border="0" height="1" src="http://www.brics.dk/cgi-amoeller/DSD/count?issues" width="1"></p></body></html>
